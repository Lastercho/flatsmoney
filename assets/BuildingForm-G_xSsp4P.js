import{u as f,r as n,j as e}from"./index-B68xSilk.js";import{i as b}from"./axios-D9plb12n.js";const S=()=>{const c=f(),[s,x]=n.useState({name:"",address:"",total_floors:"",description:""}),[a,i]=n.useState(""),[o,d]=n.useState(!1),[m,j]=n.useState(""),l=t=>{x({...s,[t.target.name]:t.target.value}),a&&i("")},g=async t=>{var u,h,p;t.preventDefault(),d(!0),i("");try{const r=await b.post("/buildings",s);console.log("Building created:",r.data),j("Сградата е създадена успешно!"),setTimeout(()=>{c("/buildings")},1500)}catch(r){console.error("Error creating building:",((u=r.response)==null?void 0:u.data)||r),i(((p=(h=r.response)==null?void 0:h.data)==null?void 0:p.message)||"Грешка при създаване на сградата"),d(!1)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"page-content",children:e.jsxs("div",{className:"building-form-container",children:[e.jsxs("div",{className:"building-form-header",children:[e.jsx("h2",{children:"Добави нова сграда"}),e.jsx("p",{className:"form-subtitle",children:"Попълнете информацията за новата сграда"})]}),m&&e.jsxs("div",{className:"success-message",children:[e.jsx("span",{children:"✓"})," ",m]}),e.jsxs("form",{onSubmit:g,className:"building-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"name",children:["Име на сградата ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:l,placeholder:"Въведете име на сградата",required:!0,className:a&&!s.name?"input-error":""}),e.jsx("small",{className:"form-helper-text",children:'Например: "Блок 15" или "Сграда Хоризонт"'})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"address",children:["Адрес ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",id:"address",name:"address",value:s.address,onChange:l,placeholder:"Въведете адрес",required:!0,className:a&&!s.address?"input-error":""}),e.jsx("small",{className:"form-helper-text",children:"Пълен адрес на сградата"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"total_floors",children:["Брой етажи ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"number",id:"total_floors",name:"total_floors",value:s.total_floors,onChange:l,placeholder:"Въведете брой етажи",required:!0,min:"1",className:a&&!s.total_floors?"input-error":""}),e.jsx("small",{className:"form-helper-text",children:"Минимум 1 етаж"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Описание"}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:l,placeholder:"Въведете описание на сградата",rows:"4"}),e.jsx("small",{className:"form-helper-text",children:"Допълнителна информация за сградата (незадължително)"})]}),a&&e.jsxs("div",{className:"error-message",children:[e.jsx("span",{children:"⚠️"})," ",a]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-submit",disabled:o,children:o?"Създаване...":"Създай сграда"}),e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>c("/buildings"),disabled:o,children:"Отказ"})]})]})]})})})};export{S as default};
