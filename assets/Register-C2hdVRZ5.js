import{r as o,u as c,j as e,L as u}from"./index-CP3mjERF.js";import{i as h}from"./axios-D9plb12n.js";/* empty css             */const g=()=>{const[s,l]=o.useState({name:"",email:"",password:"",confirmPassword:""}),[i,r]=o.useState(""),d=c(),t=n=>{l({...s,[n.target.name]:n.target.value})},m=async n=>{if(n.preventDefault(),s.password!==s.confirmPassword){r("Паролите не съвпадат");return}try{const a=await h.post("/auth/register",{name:s.name,email:s.email,password:s.password});localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),d("/buildings")}catch(a){a.response?r(a.response.data.message||"Възникна грешка при регистрацията"):a.request?r("Няма отговор от сървъра. Моля, опитайте отново по-късно."):r("Възникна грешка при регистрацията")}};return e.jsx("div",{className:"auth-container",children:e.jsxs("div",{className:"auth-card",children:[e.jsx("div",{className:"auth-header",children:e.jsx("h2",{children:"Регистрация"})}),i&&e.jsx("div",{className:"error-message",children:i}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Име"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:t,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Имейл"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:t,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Парола"}),e.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:t,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Потвърди парола"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:t,required:!0})]}),e.jsx("button",{type:"submit",className:"btn",children:"Регистрация"})]}),e.jsx("div",{className:"auth-footer",children:e.jsxs("p",{children:["Вече имате акаунт? ",e.jsx(u,{to:"/login",children:"Влезте"})]})})]})})};export{g as default};
