import{r as i,u as c,j as e,L as u}from"./index-R8q6hdM5.js";import{i as h}from"./axios-D9plb12n.js";/* empty css             */const j=()=>{const[a,l]=i.useState({email:"",password:""}),[o,t]=i.useState(""),d=c(),n=r=>{l({...a,[r.target.name]:r.target.value})},m=async r=>{r.preventDefault();try{const s=await h.post("/auth/login",a);localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user)),d("/buildings")}catch(s){s.response?t(s.response.data.message||"Възникна грешка при входа"):s.request?t("Няма отговор от сървъра. Моля, опитайте отново по-късно."):t("Възникна грешка при входа")}};return e.jsx("div",{className:"auth-container",children:e.jsxs("div",{className:"auth-card",children:[e.jsx("div",{className:"auth-header",children:e.jsx("h2",{children:"Вход"})}),o&&e.jsx("div",{className:"error-message",children:o}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Имейл"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:n,autoComplete:"username",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Парола"}),e.jsx("input",{type:"password",id:"password",name:"password",value:a.password,onChange:n,autoComplete:"current-password",required:!0})]}),e.jsx("button",{type:"submit",className:"auth-button",children:"Вход"})]}),e.jsx("div",{className:"auth-footer",children:e.jsxs("p",{children:["Нямате акаунт? ",e.jsx(u,{to:"/register",children:"Регистрирайте се"})]})})]})})};export{j as default};
